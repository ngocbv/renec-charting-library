(window.webpackJsonp=window.webpackJsonp||[]).push([["export-data"],{SIoL:function(e,t,s){"use strict";s.r(t),s.d(t,"exportData",(function(){return r}));s("YFKU");var i=s("Eyy1"),n=s("ZJKN"),o=s("k9/m"),l=s("23IT");const c={includeTime:!0,includeUserTime:!1,includeSeries:!0,includedStudies:"all"};function r(e,t={}){const s=Object.assign({},c,t),l={schema:[],data:[]},r=e.timeScale().points(),u=e.mainSeries(),h=function(e,t){const s=e.allStudies().filter(e=>e.showInObjectTree());if("all"===t)return s;return s.filter(e=>t.includes(e.id()))}(e,s.includedStudies),p=function(e,t,s,l){const c=Object(i.ensureNotNull)(void 0!==s?e.indexOf(s,!0):e.firstIndex()),r=Object(i.ensureNotNull)(void 0!==l?e.indexOf(l,!0):e.lastIndex());let a=r,u=c;for(const e of t){const t=e.search(c,o.PlotRowSearchMode.NearestRight);null!==t&&t.index<a&&(a=t.index);const s=e.search(r,o.PlotRowSearchMode.NearestLeft);null!==s&&s.index>u&&(u=s.index)}return Object(i.assert)(a<=u,"Range must contain at least 1 time point"),new n.BarsRange(a,u)}(r,[u.bars()],s.from,s.to),m=p.firstBar(),w=p.lastBar();s.includeTime&&l.schema.push({type:"time"});const T=l.schema.length;s.includeUserTime&&l.schema.push({type:"userTime"});const b=l.schema.length;if(s.includeSeries){const e=u.statusProvider({hideResolution:!0}).getSplitTitle().filter(e=>""!==e).join(", ");l.schema.push(d("open",e)),l.schema.push(d("high",e)),l.schema.push(d("low",e)),l.schema.push(d("close",e))}let g=l.schema.length;const O=[];for(const e of h){const t=a(e);O.push(t),l.schema.push(...t.fields)}const P=l.schema.length;if(0===P)return l;for(let e=m;e<=w;++e){const e=new Float64Array(P);e.fill(NaN),l.data.push(e)}if(s.includeTime)for(let e=m;e<=w;++e)l.data[e-m][0]=Object(i.ensureNotNull)(r.valueAt(e));if(s.includeUserTime){const t=e.timeScale();for(let e=m;e<=w;++e)l.data[e-m][T]=Object(i.ensureNotNull)(t.indexToUserTime(e)).getTime()/1e3}if(s.includeSeries){u.bars().range(m,w).each((e,t)=>{const s=l.data[e-m];return s[b]=f(t[1]),s[b+1]=f(t[2]),s[b+2]=f(t[3]),s[b+3]=f(t[4]),!1})}for(let e=0;e<h.length;++e){const t=h[e],s=O[e];for(let e=0;e<s.fields.length;++e){const i=s.fieldPlotOffsets[e],n=s.fieldToPlotIndex[e],o=m-i,c=w-i,r=g+e;t.data().range(o,c).each((e,t)=>(l.data[e-o][r]=f(t[n]),!1))}g+=s.fields.length}return l}function a(e){const t=e.metaInfo(),s={fieldToPlotIndex:[],fieldPlotOffsets:[],fields:[]},n=e.id(),o=e.title(!1,void 0,!1);for(let c=0;c<t.plots.length;++c){const r=t.plots[c];let a,d="";if(Object(l.isLinePlot)(r)||Object(l.isShapesPlot)(r)||Object(l.isCharsPlot)(r)||Object(l.isArrowsPlot)(r))a=Object(i.ensureDefined)(t.styles)[r.id];else if(Object(l.isOhlcPlot)(r))switch(a=t.ohlcPlots&&t.ohlcPlots[r.target],r.type){case"ohlc_open":d=` (${window.t("Open")})`;break;case"ohlc_high":d=" ("+window.t("High");break;case"ohlc_low":d=` (${window.t("Low")})`;break;case"ohlc_close":d=` (${window.t("Close")})`}if(void 0===a||void 0===a.title)continue;const f=`${a.title}${d}`;s.fields.push(u(n,o,f)),s.fieldToPlotIndex.push(c+1),s.fieldPlotOffsets.push(e.offset(r.id))}return s}function u(e,t,s){
return{type:"value",sourceType:"study",sourceId:e,sourceTitle:t,plotTitle:s}}function d(e,t){return{type:"value",sourceType:"series",plotTitle:e,sourceTitle:t}}function f(e){return null!=e?e:NaN}}}]);