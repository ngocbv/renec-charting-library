(window.webpackJsonp=window.webpackJsonp||[]).push([["export-data"],{SIoL:function(e,t,s){"use strict";s.r(t),s.d(t,"exportData",(function(){return a}));s("YFKU");var i=s("Eyy1"),n=s("ZJKN"),o=s("k9/m"),l=s("23IT"),c=s("cKqi");const r={includeTime:!0,includeUserTime:!1,includeSeries:!0,includedStudies:"all"};function a(e,t={}){const s=Object.assign({},r,t),l={schema:[],data:[]},a=e.timeScale().points(),d=e.mainSeries(),p=function(e,t){const s=e.allStudies().filter(e=>e.showInObjectTree());if("all"===t)return s;return s.filter(e=>t.includes(e.id()))}(e,s.includedStudies),m=p.filter(e=>e instanceof c.study_Overlay).map(e=>e.data());(s.includeSeries||0===m.length)&&m.push(d.bars());const w=function(e,t,s,l){const c=Object(i.ensureNotNull)(void 0!==s?e.indexOf(s,!0):e.firstIndex()),r=Object(i.ensureNotNull)(void 0!==l?e.indexOf(l,!0):e.lastIndex());let a=r,u=c;for(const e of t){const t=e.search(c,o.PlotRowSearchMode.NearestRight);null!==t&&t.index<a&&(a=t.index);const s=e.search(r,o.PlotRowSearchMode.NearestLeft);null!==s&&s.index>u&&(u=s.index)}return Object(i.assert)(a<=u,"Range must contain at least 1 time point"),new n.BarsRange(a,u)}(a,m,s.from,s.to),T=w.firstBar(),g=w.lastBar();s.includeTime&&l.schema.push({type:"time"});const O=l.schema.length;s.includeUserTime&&l.schema.push({type:"userTime"});const b=l.schema.length;if(s.includeSeries){const e=d.statusProvider({hideResolution:!0}).getSplitTitle().filter(e=>""!==e).join(", ");l.schema.push(f("open",e)),l.schema.push(f("high",e)),l.schema.push(f("low",e)),l.schema.push(f("close",e))}let P=l.schema.length;const N=[];for(const e of p){const t=u(e);N.push(t),l.schema.push(...t.fields)}const S=l.schema.length;if(0===S)return l;for(let e=T;e<=g;++e){const e=new Float64Array(S);e.fill(NaN),l.data.push(e)}if(s.includeTime)for(let e=T;e<=g;++e)l.data[e-T][0]=Object(i.ensureNotNull)(a.valueAt(e));if(s.includeUserTime){const t=e.timeScale();for(let e=T;e<=g;++e)l.data[e-T][O]=Object(i.ensureNotNull)(t.indexToUserTime(e)).getTime()/1e3}if(s.includeSeries){d.bars().range(T,g).each((e,t)=>{const s=l.data[e-T];return s[b]=h(t[1]),s[b+1]=h(t[2]),s[b+2]=h(t[3]),s[b+3]=h(t[4]),!1})}for(let e=0;e<p.length;++e){const t=p[e],s=N[e];for(let e=0;e<s.fields.length;++e){const i=s.fieldPlotOffsets[e],n=s.fieldToPlotIndex[e],o=T-i,c=g-i,r=P+e;t.data().range(o,c).each((e,t)=>(l.data[e-o][r]=h(t[n]),!1))}P+=s.fields.length}return l}function u(e){const t=e.metaInfo(),s={fieldToPlotIndex:[],fieldPlotOffsets:[],fields:[]},n=e.id(),o=e.title(!1,void 0,!1);for(let c=0;c<t.plots.length;++c){const r=t.plots[c];let a,u="";if(Object(l.isLinePlot)(r)||Object(l.isShapesPlot)(r)||Object(l.isCharsPlot)(r)||Object(l.isArrowsPlot)(r))a=Object(i.ensureDefined)(t.styles)[r.id];else if(Object(l.isOhlcPlot)(r))switch(a=t.ohlcPlots&&t.ohlcPlots[r.target],r.type){case"ohlc_open":u=` (${window.t("Open")})`;break;case"ohlc_high":u=" ("+window.t("High");break;case"ohlc_low":u=` (${window.t("Low")})`;break;case"ohlc_close":u=` (${window.t("Close")})`}if(void 0===a||void 0===a.title)continue;const f=`${a.title}${u}`
;s.fields.push(d(n,o,f)),s.fieldToPlotIndex.push(c+1),s.fieldPlotOffsets.push(e.offset(r.id))}return s}function d(e,t,s){return{type:"value",sourceType:"study",sourceId:e,sourceTitle:t,plotTitle:s}}function f(e,t){return{type:"value",sourceType:"series",plotTitle:e,sourceTitle:t}}function h(e){return null!=e?e:NaN}}}]);